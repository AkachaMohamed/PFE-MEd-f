{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Mohamed\\\\Desktop\\\\PROJET_PFE\\\\PFE\\\\app\\\\screens\\\\Administrator\\\\Update_ad.js\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport * as Yup from \"yup\";\nimport { Form, FormField, SubmitButton } from \"../../components/forms\";\nimport { AddData } from \"../../api/database/insertion\";\nimport { UpdateData } from \"../../api/database/miseajour\";\nvar styles = StyleSheet.create({\n  container: {\n    padding: 10\n  }\n});\nvar validationSchema = Yup.object().shape({\n  name: Yup.string().required().min(10).label(\"Nom\"),\n  surname: Yup.string().required().min(1).max(10000).label(\"Prénom\"),\n  email: Yup.string().email().required().label(\"Email\"),\n  phone: Yup.string().required().label(\"Téléphone\")\n});\n\nfunction getID(val, jsl) {\n  var needle = val;\n  var ret = 0;\n\n  for (var i = 0; i < jsl.length; i++) {\n    if (jsl[i].label.toLowerCase() == needle.toLowerCase()) {\n      ret = jsl[i].value;\n    }\n  }\n\n  return ret;\n}\n\nfunction storeUser(table, id, pl, operation, v) {\n  var contenu = \"\";\n  console.log(v);\n\n  if (operation == \"Ajouter\") {\n    contenu = AddData(\"admins\", id, pl).then(function (reponse) {});\n  } else {\n    contenu = UpdateData(\"admins\", id, pl).then(function (reponse) {});\n  }\n}\n\nvar Update_ad = function Update_ad(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var op = \"Ajouter\";\n  var Nom = \"\";\n  var Prenom = \"\";\n  var Mail = \"\";\n  var Tel = \"\";\n\n  if (route.params) {\n    item = route.params.item;\n    op = \"Modifier\";\n    Nom = item.nom;\n    Prenom = item.prenom;\n    Mail = item.mail;\n    Tel = item.tel;\n  }\n\n  var _useState = useState(Nom),\n      _useState2 = _slicedToArray(_useState, 2),\n      nom = _useState2[0],\n      setNom = _useState2[1];\n\n  var _useState3 = useState(Prenom),\n      _useState4 = _slicedToArray(_useState3, 2),\n      prenom = _useState4[0],\n      setPrenom = _useState4[1];\n\n  var _useState5 = useState(Mail),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mail = _useState6[0],\n      setMail = _useState6[1];\n\n  var _useState7 = useState(Tel),\n      _useState8 = _slicedToArray(_useState7, 2),\n      tel = _useState8[0],\n      setTel = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      operation = _useState10[0],\n      setOperation = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      error = _useState12[0],\n      setError = _useState12[1];\n\n  var item = null;\n  return React.createElement(Form, {\n    initialValues: {\n      name: {\n        Nom: Nom\n      },\n      surname: {\n        Prenom: Prenom\n      },\n      email: {\n        Mail: Mail\n      },\n      phone: {\n        Tel: Tel\n      }\n    },\n    onSubmit: function onSubmit(values) {\n      return storeUser(\"admins\", mail, {\n        nom: nom,\n        prenom: prenom,\n        mail: mail,\n        tel: tel\n      }, op, values);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, React.createElement(FormField, {\n    maxLength: 20,\n    name: \"name\",\n    placeholder: \"Nom\",\n    defaultValue: Nom,\n    onChangeText: setNom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }), React.createElement(FormField, {\n    maxLength: 8,\n    name: \"surname\",\n    placeholder: \"Pr\\xE9nom\",\n    defaultValue: Prenom,\n    onChangeText: setPrenom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }), React.createElement(FormField, {\n    maxLength: 40,\n    name: \"email\",\n    placeholder: \"Email\",\n    defaultValue: Mail,\n    onChangeText: setMail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 10\n    }\n  }), React.createElement(FormField, {\n    maxLength: 8,\n    name: \"phone\",\n    placeholder: \"T\\xE9l\\xE9phone\",\n    defaultValue: Tel,\n    onChangeText: setTel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }), React.createElement(SubmitButton, {\n    title: op,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Update_ad;","map":{"version":3,"sources":["C:/Users/Mohamed/Desktop/PROJET_PFE/PFE/app/screens/Administrator/Update_ad.js"],"names":["React","useState","Yup","Form","FormField","SubmitButton","AddData","UpdateData","styles","StyleSheet","create","container","padding","validationSchema","object","shape","name","string","required","min","label","surname","max","email","phone","getID","val","jsl","needle","ret","i","length","toLowerCase","value","storeUser","table","id","pl","operation","v","contenu","console","log","then","reponse","Update_ad","route","navigation","op","Nom","Prenom","Mail","Tel","params","item","nom","prenom","mail","tel","setNom","setPrenom","setMail","setTel","setOperation","error","setError","values"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { StyleSheet,Text } from \"react-native\";\r\nimport * as Yup from \"yup\";\r\nimport {\r\n  Form,\r\n  FormField,\r\n  SubmitButton,\r\n} from \"../../components/forms\";\r\nimport {AddData} from '../../api/database/insertion'\r\nimport {UpdateData} from '../../api/database/miseajour'\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    padding: 10,\r\n  },\r\n});\r\nconst validationSchema = Yup.object().shape({\r\nname: Yup.string().required().min(10).label(\"Nom\"),\r\nsurname: Yup.string().required().min(1).max(10000).label(\"Prénom\"),\r\nemail: Yup.string().email().required().label(\"Email\"),\r\nphone:Yup.string().required().label(\"Téléphone\"),\r\n});\r\nfunction getID(val,jsl)\r\n{\r\n  var needle = val;\r\nvar ret=0;\r\n// iterate over each element in the array\r\nfor (var i = 0; i < jsl.length; i++){\r\n  // look for the entry with a matching `code` value\r\n  if (jsl[i].label.toLowerCase() == needle.toLowerCase()){\r\n     ret=jsl[i].value\r\n  }\r\n}\r\nreturn ret\r\n}\r\n//---------------------------------------------------\r\nfunction storeUser(table,id,pl,operation,v) {\r\n  var contenu=\"\"\r\n  console.log(v)\r\n  if(operation==\"Ajouter\")\r\n  {    \r\n     contenu=  AddData(\"admins\",id,pl).then((reponse)=>{\r\n   \r\n     })\r\n  } \r\n  else\r\n  {\r\n    contenu=  UpdateData(\"admins\",id,pl).then((reponse)=>{    \r\n    })\r\n  }\r\n}\r\n  \r\n\r\n\r\nconst Update_ad = ({ route , navigation}) => {\r\nvar op=\"Ajouter\";\r\nvar Nom=\"\";\r\nvar Prenom=\"\";\r\nvar Mail=\"\";\r\nvar Tel=\"\";\r\n\r\nif(route.params)\r\n   {\r\n     item = route.params.item;\r\n     op=\"Modifier\";\r\n     \r\n     \r\n     Nom=item.nom;\r\n     \r\n     Prenom=item.prenom;\r\n     Mail=item.mail;\r\n     Tel=item.tel;\r\n}\r\n  \r\n\r\n\r\nconst [nom, setNom] = useState(Nom);\r\nconst [prenom, setPrenom] = useState(Prenom);\r\nconst [mail, setMail] = useState(Mail);\r\nconst [tel, setTel] = useState(Tel);\r\nconst [operation, setOperation] = useState();\r\nconst [error, setError] = useState('');\r\nlet item = null\r\n  return ( \r\n    \r\n     \r\n      <Form\r\n        initialValues={{\r\n          name:{Nom},\r\n          surname:{Prenom} ,\r\n          email: {Mail},\r\n          phone: {Tel},\r\n        }}\r\n\r\n        onSubmit={(values) => storeUser(\"admins\",mail,{nom:nom,prenom:prenom,mail:mail,tel:tel},op,values)}\r\n       \r\n      >\r\n        <FormField\r\n          maxLength={20}\r\n          name=\"name\"\r\n          placeholder=\"Nom\"\r\n          defaultValue={Nom}\r\n          onChangeText={setNom}/>\r\n        <FormField          \r\n          maxLength={8}\r\n          name=\"surname\"\r\n          placeholder=\"Prénom\"\r\n          defaultValue={Prenom}\r\n          onChangeText={setPrenom}\r\n        />\r\n         <FormField          \r\n          maxLength={40}\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          defaultValue={Mail}\r\n          onChangeText={setMail}\r\n          />\r\n        <FormField\r\n          maxLength={8}\r\n          name=\"phone\"\r\n          placeholder=\"Téléphone\"\r\n          defaultValue={Tel}\r\n          onChangeText={setTel}          \r\n          />       \r\n             \r\n        <SubmitButton title= {op} />\r\n      </Form>\r\n    \r\n  );\r\n}\r\nexport default Update_ad;"]},"metadata":{},"sourceType":"module"}