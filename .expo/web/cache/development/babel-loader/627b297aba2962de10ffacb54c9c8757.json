{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport firebase from \"../utility/fire\";\n\nvar register = function register(userInfo) {\n  var reponse;\n  return _regeneratorRuntime.async(function register$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(firebase.auth().createUserWithEmailAndPassword(userInfo.email, userInfo.password).then(function (tt) {\n            var user = firebase.auth().currentUser;\n\n            if (user) {\n              var update = {\n                displayName: userInfo.name + \" \" + userInfo.surname,\n                emailVerified: true,\n                photoURL: 'https://img.icons8.com/color/452/123.png'\n              };\n              firebase.auth().currentUser.updateProfile(update).then(function (tt2) {\n                console.log('User email: ', user.displayName);\n              }).catch(function (error) {\n                console.log(error);\n              });\n            }\n\n            if (user) return \"ok\";else return \"not ok\";\n          }).catch(function (error2) {\n            return error2.message;\n          }));\n\n        case 2:\n          reponse = _context.sent;\n          return _context.abrupt(\"return\", reponse);\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default {\n  register: register\n};","map":{"version":3,"sources":["C:/Users/Mohamed/Desktop/PROJET_PFE/PFE/app/api/users.js"],"names":["firebase","register","userInfo","auth","createUserWithEmailAndPassword","email","password","then","tt","user","currentUser","update","displayName","name","surname","emailVerified","photoURL","updateProfile","tt2","console","log","catch","error","error2","message","reponse"],"mappings":";AAAA,OAAOA,QAAP;;AAEA,IAAMC,QAAQ,GAAE,SAAVA,QAAU,CAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACGF,QAAQ,CAACG,IAAT,GAAgBC,8BAAhB,CAA+CF,QAAQ,CAACG,KAAxD,EAA+DH,QAAQ,CAACI,QAAxE,EAAkFC,IAAlF,CAAuF,UAACC,EAAD,EAAM;AAChH,gBAAMC,IAAI,GAAGT,QAAQ,CAACG,IAAT,GAAgBO,WAA7B;;AAEA,gBAAID,IAAJ,EAAU;AACR,kBAAME,MAAM,GAAG;AACbC,gBAAAA,WAAW,EAAEV,QAAQ,CAACW,IAAT,GAAc,GAAd,GAAkBX,QAAQ,CAACY,OAD3B;AAEbC,gBAAAA,aAAa,EAAC,IAFD;AAIbC,gBAAAA,QAAQ,EAAE;AAJG,eAAf;AAMAhB,cAAAA,QAAQ,CAACG,IAAT,GAAgBO,WAAhB,CAA4BO,aAA5B,CAA0CN,MAA1C,EAAkDJ,IAAlD,CAAuD,UAACW,GAAD,EAAO;AAC5DC,gBAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BX,IAAI,CAACG,WAAjC;AAED,eAHD,EAGGS,KAHH,CAGS,UAACC,KAAD,EAAS;AAChBH,gBAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,eALD;AAUD;;AACD,gBAAGb,IAAH,EACE,OAAO,IAAP,CADF,KAGE,OAAO,QAAP;AACD,WAzBkB,EAyBhBY,KAzBgB,CAyBV,UAACE,MAAD,EAAU;AACjB,mBAAOA,MAAM,CAACC,OAAd;AACD,WA3BkB,CADH;;AAAA;AACZC,UAAAA,OADY;AAAA,2CA6BTA,OA7BS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;;AAwDA,eAAe;AAAExB,EAAAA,QAAQ,EAARA;AAAF,CAAf","sourcesContent":["import firebase from \"../utility/fire\"\n\nconst register =async(userInfo)=>{\nvar reponse= await firebase.auth().createUserWithEmailAndPassword(userInfo.email, userInfo.password).then((tt)=>{\nconst user = firebase.auth().currentUser;\n\nif (user) {\n  const update = {\n    displayName: userInfo.name+\" \"+userInfo.surname,\n    emailVerified:true,\n\n    photoURL: 'https://img.icons8.com/color/452/123.png',\n  };\n  firebase.auth().currentUser.updateProfile(update).then((tt2)=>{\n    console.log('User email: ', user.displayName);\n    \n  }).catch((error)=>{\n    console.log(error)\n  })\n \n  \n\n \n}\nif(user)\n  return \"ok\"\n  else\n  return \"not ok\"\n}).catch((error2)=>{\n  return error2.message\n})\nreturn reponse\n}\n\n/* .then(\n    \n  (user)=>{\n        \n        user.sendEmailVerification()\n        console.log(user.user)\n        console.log(\"maha2ah-----------------------1\")\n   // here you can use either the returned user object or       firebase.auth().currentUser. I will use the returned user object\n      if(user){\n        console.log(\"maha2ah-----------------------2\")\n        user.updateProfile({\n           displayName: userInfo.email2\n           \n        }).then(\n          (s)=> console.log(\"maha2ah-----------------------\")\n        )\n      }\n  })\n  .catch(function(error) {\n    // Handle Errors here.\n    var errorCode = error.code;\n    var errorMessage = error.message;\n    \n  }); */\nexport default { register };\n"]},"metadata":{},"sourceType":"module"}